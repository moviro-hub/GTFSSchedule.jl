<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · GTFSSchedules.jl</title><meta name="title" content="Examples · GTFSSchedules.jl"/><meta property="og:title" content="Examples · GTFSSchedules.jl"/><meta property="twitter:title" content="Examples · GTFSSchedules.jl"/><meta name="description" content="Documentation for GTFSSchedules.jl."/><meta property="og:description" content="Documentation for GTFSSchedules.jl."/><meta property="twitter:description" content="Documentation for GTFSSchedules.jl."/><meta property="og:url" content="https://moviro-hub.github.io/GTFSSchedules.jl/examples/"/><meta property="twitter:url" content="https://moviro-hub.github.io/GTFSSchedules.jl/examples/"/><link rel="canonical" href="https://moviro-hub.github.io/GTFSSchedules.jl/examples/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GTFSSchedules.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../api/">API Reference</a></li><li class="is-active"><a class="tocitem" href>Examples</a><ul class="internal"><li><a class="tocitem" href="#Basic-Data-Exploration"><span>Basic Data Exploration</span></a></li><li><a class="tocitem" href="#Route-Analysis"><span>Route Analysis</span></a></li><li><a class="tocitem" href="#Stop-Analysis"><span>Stop Analysis</span></a></li><li><a class="tocitem" href="#Trip-and-Schedule-Analysis"><span>Trip and Schedule Analysis</span></a></li><li><a class="tocitem" href="#Validation-Examples"><span>Validation Examples</span></a></li><li><a class="tocitem" href="#Advanced-Examples"><span>Advanced Examples</span></a></li><li><a class="tocitem" href="#Data-Export-Examples"><span>Data Export Examples</span></a></li><li><a class="tocitem" href="#Error-Handling-Examples"><span>Error Handling Examples</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/moviro-hub/GTFSSchedules.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/moviro-hub/GTFSSchedules.jl/blob/main/docs/src/examples.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p><strong>Practical examples for using GTFSSchedule.jl to analyze transit data.</strong></p><p>This page provides practical examples of how to use GTFSSchedule.jl for common transit data analysis tasks.</p><h2 id="Basic-Data-Exploration"><a class="docs-heading-anchor" href="#Basic-Data-Exploration">Basic Data Exploration</a><a id="Basic-Data-Exploration-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Data-Exploration" title="Permalink"></a></h2><h3 id="Loading-and-Inspecting-a-GTFS-Feed"><a class="docs-heading-anchor" href="#Loading-and-Inspecting-a-GTFS-Feed">Loading and Inspecting a GTFS Feed</a><a id="Loading-and-Inspecting-a-GTFS-Feed-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-and-Inspecting-a-GTFS-Feed" title="Permalink"></a></h3><pre><code class="language-julia hljs">using GTFSSchedules
using DataFrames

# Load a GTFS feed
gtfs = read_gtfs(&quot;transit_feed.zip&quot;)

# Basic information about the feed
println(&quot;=== GTFS Feed Overview ===&quot;)
println(&quot;Agencies: &quot;, nrow(gtfs[&quot;agency.txt&quot;]))
println(&quot;Stops: &quot;, nrow(gtfs[&quot;stops.txt&quot;]))
println(&quot;Routes: &quot;, nrow(gtfs[&quot;routes.txt&quot;]))
println(&quot;Trips: &quot;, nrow(gtfs[&quot;trips.txt&quot;]))
println(&quot;Stop Times: &quot;, nrow(gtfs[&quot;stop_times.txt&quot;]))

# Check for optional files
optional_files = [
    (&quot;Calendar&quot;, &quot;calendar.txt&quot;),
    (&quot;Calendar Dates&quot;, &quot;calendar_dates.txt&quot;),
    (&quot;Fare Attributes&quot;, &quot;fare_attributes.txt&quot;),
    (&quot;Shapes&quot;, &quot;shapes.txt&quot;),
    (&quot;Transfers&quot;, &quot;transfers.txt&quot;),
    (&quot;Feed Info&quot;, &quot;feed_info.txt&quot;)
]

println(&quot;\n=== Optional Files ===&quot;)
for (name, filename) in optional_files
    if haskey(gtfs, filename) &amp;&amp; gtfs[filename] !== nothing
        status = &quot;✓ Present ($(nrow(gtfs[filename])) records)&quot;
    else
        status = &quot;✗ Not present&quot;
    end
    println(&quot;$name: $status&quot;)
end</code></pre><h3 id="Agency-Information"><a class="docs-heading-anchor" href="#Agency-Information">Agency Information</a><a id="Agency-Information-1"></a><a class="docs-heading-anchor-permalink" href="#Agency-Information" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Display all agencies
println(&quot;=== Transit Agencies ===&quot;)
for row in eachrow(gtfs[&quot;agency.txt&quot;])
    println(&quot;$(row.agency_name)&quot;)
    println(&quot;  URL: $(row.agency_url)&quot;)
    println(&quot;  Timezone: $(row.agency_timezone)&quot;)
    if hasproperty(row, :agency_phone)
        println(&quot;  Phone: $(row.agency_phone)&quot;)
    end
    println()
end</code></pre><h2 id="Route-Analysis"><a class="docs-heading-anchor" href="#Route-Analysis">Route Analysis</a><a id="Route-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Route-Analysis" title="Permalink"></a></h2><h3 id="Route-Types-and-Statistics"><a class="docs-heading-anchor" href="#Route-Types-and-Statistics">Route Types and Statistics</a><a id="Route-Types-and-Statistics-1"></a><a class="docs-heading-anchor-permalink" href="#Route-Types-and-Statistics" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze route types
println(&quot;=== Route Types ===&quot;)
route_type_names = Dict(
    0 =&gt; &quot;Light Rail&quot;,
    1 =&gt; &quot;Subway/Metro&quot;,
    2 =&gt; &quot;Rail&quot;,
    3 =&gt; &quot;Bus&quot;,
    4 =&gt; &quot;Ferry&quot;,
    5 =&gt; &quot;Cable Tram&quot;,
    6 =&gt; &quot;Aerial Lift&quot;,
    7 =&gt; &quot;Funicular&quot;,
    11 =&gt; &quot;Trolleybus&quot;,
    12 =&gt; &quot;Monorail&quot;
)

routes_df = gtfs[&quot;routes.txt&quot;]
route_counts = Dict{Int, Int}()
for row in eachrow(routes_df)
    route_type = row.route_type
    route_counts[route_type] = get(route_counts, route_type, 0) + 1
end

for (type_id, count) in sort(collect(route_counts))
    type_name = get(route_type_names, type_id, &quot;Unknown ($type_id)&quot;)
    println(&quot;$type_name: $count routes&quot;)
end</code></pre><h3 id="Bus-Route-Analysis"><a class="docs-heading-anchor" href="#Bus-Route-Analysis">Bus Route Analysis</a><a id="Bus-Route-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Bus-Route-Analysis" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Focus on bus routes
routes_df = gtfs[&quot;routes.txt&quot;]
bus_routes = filter(row -&gt; row.route_type == 3, routes_df)

println(&quot;=== Bus Routes ===&quot;)
println(&quot;Total bus routes: &quot;, nrow(bus_routes))

# Show first few bus routes
println(&quot;\nFirst 10 bus routes:&quot;)
for (i, row) in enumerate(eachrow(bus_routes))
    if i &gt; 10
        break
    end
    println(&quot;$(row.route_short_name) - $(row.route_long_name)&quot;)
end

# Routes with colors
colored_routes = filter(row -&gt; hasproperty(row, :route_color) &amp;&amp; !ismissing(row.route_color), bus_routes)
println(&quot;\nRoutes with colors: &quot;, nrow(colored_routes))</code></pre><h2 id="Stop-Analysis"><a class="docs-heading-anchor" href="#Stop-Analysis">Stop Analysis</a><a id="Stop-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Stop-Analysis" title="Permalink"></a></h2><h3 id="Stop-Types-and-Locations"><a class="docs-heading-anchor" href="#Stop-Types-and-Locations">Stop Types and Locations</a><a id="Stop-Types-and-Locations-1"></a><a class="docs-heading-anchor-permalink" href="#Stop-Types-and-Locations" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze stop types
println(&quot;=== Stop Types ===&quot;)
location_type_names = Dict(
    0 =&gt; &quot;Stop/Platform&quot;,
    1 =&gt; &quot;Station&quot;,
    2 =&gt; &quot;Entrance/Exit&quot;,
    3 =&gt; &quot;Generic Node&quot;,
    4 =&gt; &quot;Boarding Area&quot;
)

stop_counts = Dict{Int, Int}()
for row in eachrow(gtfs.stops)
    location_type = get(row, :location_type, 0)  # Default to 0 if missing
    stop_counts[location_type] = get(stop_counts, location_type, 0) + 1
end

for (type_id, count) in sort(collect(stop_counts))
    type_name = get(location_type_names, type_id, &quot;Unknown ($type_id)&quot;)
    println(&quot;$type_name: $count&quot;)
end</code></pre><h3 id="Geographic-Analysis"><a class="docs-heading-anchor" href="#Geographic-Analysis">Geographic Analysis</a><a id="Geographic-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Geographic-Analysis" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze stop coordinates
stops_with_coords = filter(row -&gt; !ismissing(row.stop_lat) &amp;&amp; !ismissing(row.stop_lon), gtfs.stops)

if nrow(stops_with_coords) &gt; 0
    println(&quot;=== Geographic Coverage ===&quot;)
    lats = stops_with_coords.stop_lat
    lons = stops_with_coords.stop_lon

    println(&quot;Latitude range: $(minimum(lats)) to $(maximum(lats))&quot;)
    println(&quot;Longitude range: $(minimum(lons)) to $(maximum(lons))&quot;)

    # Find stops in a specific area (example: downtown)
    downtown_stops = filter(row -&gt;
        40.7 &lt;= row.stop_lat &lt;= 40.8 &amp;&amp;
        -74.0 &lt;= row.stop_lon &lt;= -73.9,
        stops_with_coords
    )
    println(&quot;Stops in downtown area: &quot;, nrow(downtown_stops))
end</code></pre><h2 id="Trip-and-Schedule-Analysis"><a class="docs-heading-anchor" href="#Trip-and-Schedule-Analysis">Trip and Schedule Analysis</a><a id="Trip-and-Schedule-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Trip-and-Schedule-Analysis" title="Permalink"></a></h2><h3 id="Service-Patterns"><a class="docs-heading-anchor" href="#Service-Patterns">Service Patterns</a><a id="Service-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Service-Patterns" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze service patterns
println(&quot;=== Service Analysis ===&quot;)

# Count trips per route
trip_counts = Dict{String, Int}()
for row in eachrow(gtfs.trips)
    route_id = row.route_id
    trip_counts[route_id] = get(trip_counts, route_id, 0) + 1
end

# Find routes with most trips
top_routes = sort(collect(trip_counts), by=x-&gt;x[2], rev=true)[1:min(10, length(trip_counts))]

println(&quot;Routes with most trips:&quot;)
for (route_id, count) in top_routes
    # Find route name
    route_info = filter(row -&gt; row.route_id == route_id, gtfs.routes)
    if nrow(route_info) &gt; 0
        route_name = route_info.route_short_name[1]
        println(&quot;  $route_name ($route_id): $count trips&quot;)
    end
end</code></pre><h3 id="Stop-Time-Analysis"><a class="docs-heading-anchor" href="#Stop-Time-Analysis">Stop Time Analysis</a><a id="Stop-Time-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Stop-Time-Analysis" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze stop times
println(&quot;\n=== Stop Time Analysis ===&quot;)

# Count stops per trip
stop_counts_per_trip = Dict{String, Int}()
for row in eachrow(gtfs.stop_times)
    trip_id = row.trip_id
    stop_counts_per_trip[trip_id] = get(stop_counts_per_trip, trip_id, 0) + 1
end

if !isempty(stop_counts_per_trip)
    stop_counts = collect(values(stop_counts_per_trip))
    println(&quot;Average stops per trip: &quot;, round(mean(stop_counts), digits=1))
    println(&quot;Min stops per trip: &quot;, minimum(stop_counts))
    println(&quot;Max stops per trip: &quot;, maximum(stop_counts))
end

# Find trips with most stops
longest_trips = sort(collect(stop_counts_per_trip), by=x-&gt;x[2], rev=true)[1:min(5, length(stop_counts_per_trip))]
println(&quot;\nLongest trips (by number of stops):&quot;)
for (trip_id, count) in longest_trips
    println(&quot;  $trip_id: $count stops&quot;)
end</code></pre><h2 id="Validation-Examples"><a class="docs-heading-anchor" href="#Validation-Examples">Validation Examples</a><a id="Validation-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Validation-Examples" title="Permalink"></a></h2><h3 id="Basic-Validation"><a class="docs-heading-anchor" href="#Basic-Validation">Basic Validation</a><a id="Basic-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Validation" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Validate the feed
println(&quot;=== Validation ===&quot;)
result = GTFSSchedules.Validations.validate_gtfs(gtfs)

println(&quot;Validation result: &quot;, result.summary)

if !result.is_valid
    println(&quot;\nIssues found:&quot;)

    # Separate errors and warnings
    errors = filter(e -&gt; e.severity == :error, result.messages)
    warnings = filter(e -&gt; e.severity == :warning, result.messages)

    if !isempty(errors)
        println(&quot;\nErrors:&quot;)
        for (i, error) in enumerate(errors[1:min(10, length(errors))])
            println(&quot;  $i. $(error.file): $(error.message)&quot;)
        end
        if length(errors) &gt; 10
            println(&quot;  ... and $(length(errors) - 10) more errors&quot;)
        end
    end

    if !isempty(warnings)
        println(&quot;\nWarnings:&quot;)
        for (i, warning) in enumerate(warnings[1:min(10, length(warnings))])
            println(&quot;  $i. $(warning.file): $(warning.message)&quot;)
        end
        if length(warnings) &gt; 10
            println(&quot;  ... and $(length(warnings) - 10) more warnings&quot;)
        end
    end
end</code></pre><h3 id="Validation-with-Custom-Limits"><a class="docs-heading-anchor" href="#Validation-with-Custom-Limits">Validation with Custom Limits</a><a id="Validation-with-Custom-Limits-1"></a><a class="docs-heading-anchor-permalink" href="#Validation-with-Custom-Limits" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Validate with limited warnings
result = GTFSSchedules.Validations.validate_gtfs(gtfs)
println(&quot;Validation with limited warnings: &quot;, result.summary)</code></pre><h2 id="Advanced-Examples"><a class="docs-heading-anchor" href="#Advanced-Examples">Advanced Examples</a><a id="Advanced-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Examples" title="Permalink"></a></h2><h3 id="Finding-Transfer-Opportunities"><a class="docs-heading-anchor" href="#Finding-Transfer-Opportunities">Finding Transfer Opportunities</a><a id="Finding-Transfer-Opportunities-1"></a><a class="docs-heading-anchor-permalink" href="#Finding-Transfer-Opportunities" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze transfers if available
if gtfs.transfers !== nothing
    println(&quot;=== Transfer Analysis ===&quot;)
    println(&quot;Total transfers: &quot;, nrow(gtfs.transfers))

    # Transfer types
    transfer_types = Dict(
        0 =&gt; &quot;Recommended&quot;,
        1 =&gt; &quot;Timed&quot;,
        2 =&gt; &quot;Minimum time&quot;,
        3 =&gt; &quot;Not possible&quot;
    )

    transfer_counts = Dict{Int, Int}()
    for row in eachrow(gtfs.transfers)
        transfer_type = get(row, :transfer_type, 0)
        transfer_counts[transfer_type] = get(transfer_counts, transfer_type, 0) + 1
    end

    for (type_id, count) in sort(collect(transfer_counts))
        type_name = get(transfer_types, type_id, &quot;Unknown ($type_id)&quot;)
        println(&quot;$type_name: $count&quot;)
    end
end</code></pre><h3 id="Fare-Analysis"><a class="docs-heading-anchor" href="#Fare-Analysis">Fare Analysis</a><a id="Fare-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Fare-Analysis" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze fares if available
if gtfs.fare_attributes !== nothing
    println(&quot;=== Fare Analysis ===&quot;)
    println(&quot;Fare types: &quot;, nrow(gtfs.fare_attributes))

    for row in eachrow(gtfs.fare_attributes)
        println(&quot;Fare: $(row.fare_id)&quot;)
        println(&quot;  Price: $(row.price)&quot;)
        println(&quot;  Currency: $(row.currency_type)&quot;)
        println(&quot;  Payment method: $(row.payment_method)&quot;)
        println(&quot;  Transfers: $(row.transfers)&quot;)
        println()
    end
end</code></pre><h3 id="Shape-Analysis"><a class="docs-heading-anchor" href="#Shape-Analysis">Shape Analysis</a><a id="Shape-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Shape-Analysis" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Analyze route shapes if available
if gtfs.shapes !== nothing
    println(&quot;=== Shape Analysis ===&quot;)
    println(&quot;Total shape points: &quot;, nrow(gtfs.shapes))

    # Count shapes
    shape_ids = unique(gtfs.shapes.shape_id)
    println(&quot;Unique shapes: &quot;, length(shape_ids))

    # Find longest shapes
    shape_lengths = Dict{String, Int}()
    for row in eachrow(gtfs.shapes)
        shape_id = row.shape_id
        shape_lengths[shape_id] = get(shape_lengths, shape_id, 0) + 1
    end

    longest_shapes = sort(collect(shape_lengths), by=x-&gt;x[2], rev=true)[1:min(5, length(shape_lengths))]
    println(&quot;\nLongest shapes (by number of points):&quot;)
    for (shape_id, count) in longest_shapes
        println(&quot;  $shape_id: $count points&quot;)
    end
end</code></pre><h2 id="Data-Export-Examples"><a class="docs-heading-anchor" href="#Data-Export-Examples">Data Export Examples</a><a id="Data-Export-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Export-Examples" title="Permalink"></a></h2><h3 id="Export-to-CSV"><a class="docs-heading-anchor" href="#Export-to-CSV">Export to CSV</a><a id="Export-to-CSV-1"></a><a class="docs-heading-anchor-permalink" href="#Export-to-CSV" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Export specific data to CSV files
using CSV

# Export bus routes
bus_routes = filter(row -&gt; row.route_type == 3, gtfs.routes)
CSV.write(&quot;bus_routes.csv&quot;, bus_routes)

# Export stops with coordinates
stops_with_coords = filter(row -&gt; !ismissing(row.stop_lat) &amp;&amp; !ismissing(row.stop_lon), gtfs.stops)
CSV.write(&quot;stops_with_coords.csv&quot;, stops_with_coords)

println(&quot;Exported data to CSV files&quot;)</code></pre><h3 id="Create-Summary-Statistics"><a class="docs-heading-anchor" href="#Create-Summary-Statistics">Create Summary Statistics</a><a id="Create-Summary-Statistics-1"></a><a class="docs-heading-anchor-permalink" href="#Create-Summary-Statistics" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Create a summary report
function create_summary_report(gtfs)
    report = &quot;&quot;&quot;
    GTFS Feed Summary Report
    ========================

    Basic Statistics:
    - Agencies: $(nrow(gtfs.agency))
    - Stops: $(nrow(gtfs.stops))
    - Routes: $(nrow(gtfs.routes))
    - Trips: $(nrow(gtfs.trips))
    - Stop Times: $(nrow(gtfs.stop_times))

    Route Types:
    &quot;&quot;&quot;

    # Add route type breakdown
    route_counts = Dict{Int, Int}()
    for row in eachrow(gtfs.routes)
        route_type = row.route_type
        route_counts[route_type] = get(route_counts, route_type, 0) + 1
    end

    for (type_id, count) in sort(collect(route_counts))
        report *= &quot;  - Type $type_id: $count routes\n&quot;
    end

    # Add optional files status
    report *= &quot;\nOptional Files:\n&quot;
    optional_files = [
        (&quot;Calendar&quot;, gtfs.calendar),
        (&quot;Fare Attributes&quot;, gtfs.fare_attributes),
        (&quot;Shapes&quot;, gtfs.shapes),
        (&quot;Transfers&quot;, gtfs.transfers)
    ]

    for (name, df) in optional_files
        status = df !== nothing ? &quot;Present&quot; : &quot;Not present&quot;
        report *= &quot;  - $name: $status\n&quot;
    end

    return report
end

# Generate and save report
report = create_summary_report(gtfs)
open(&quot;gtfs_summary.txt&quot;, &quot;w&quot;) do io
    write(io, report)
end

println(&quot;Summary report saved to gtfs_summary.txt&quot;)</code></pre><h2 id="Error-Handling-Examples"><a class="docs-heading-anchor" href="#Error-Handling-Examples">Error Handling Examples</a><a id="Error-Handling-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling-Examples" title="Permalink"></a></h2><h3 id="Safe-Data-Access"><a class="docs-heading-anchor" href="#Safe-Data-Access">Safe Data Access</a><a id="Safe-Data-Access-1"></a><a class="docs-heading-anchor-permalink" href="#Safe-Data-Access" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Safe way to access optional data
function safe_get_feed_info(gtfs)
    if gtfs.feed_info !== nothing &amp;&amp; nrow(gtfs.feed_info) &gt; 0
        info = gtfs.feed_info[1, :]
        return Dict(
            &quot;feed_publisher_name&quot; =&gt; get(info, :feed_publisher_name, &quot;Unknown&quot;),
            &quot;feed_publisher_url&quot; =&gt; get(info, :feed_publisher_url, &quot;Unknown&quot;),
            &quot;feed_lang&quot; =&gt; get(info, :feed_lang, &quot;Unknown&quot;),
            &quot;feed_version&quot; =&gt; get(info, :feed_version, &quot;Unknown&quot;)
        )
    else
        return Dict(&quot;error&quot; =&gt; &quot;Feed info not available&quot;)
    end
end

feed_info = safe_get_feed_info(gtfs)
println(&quot;Feed Info: &quot;, feed_info)</code></pre><h3 id="Handling-Missing-Data"><a class="docs-heading-anchor" href="#Handling-Missing-Data">Handling Missing Data</a><a id="Handling-Missing-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Handling-Missing-Data" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Handle missing or invalid data gracefully
function analyze_stop_coordinates(gtfs)
    valid_stops = 0
    invalid_stops = 0

    for row in eachrow(gtfs.stops)
        lat = get(row, :stop_lat, missing)
        lon = get(row, :stop_lon, missing)

        if ismissing(lat) || ismissing(lon)
            invalid_stops += 1
        elseif -90 &lt;= lat &lt;= 90 &amp;&amp; -180 &lt;= lon &lt;= 180
            valid_stops += 1
        else
            invalid_stops += 1
        end
    end

    return (valid=valid_stops, invalid=invalid_stops)
end

coord_stats = analyze_stop_coordinates(gtfs)
println(&quot;Stop coordinates: $(coord_stats.valid) valid, $(coord_stats.invalid) invalid&quot;)</code></pre><p>These examples demonstrate the flexibility and power of GTFSSchedule.jl for transit data analysis. The package&#39;s integration with DataFrames makes it easy to perform complex queries and transformations on GTFS data.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api/">« API Reference</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Sunday 26 October 2025 14:39">Sunday 26 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
